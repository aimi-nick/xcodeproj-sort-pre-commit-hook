#!/usr/bin/env ruby

require 'optparse'
require 'xcodeproj-sort'

if $PROGRAM_NAME == __FILE__
  ENV['BUNDLE_GEMFILE'] = File.expand_path('../../Gemfile', __FILE__)
  require 'bundler/setup'
end

OptionParser.new do |opts|
  opts.banner = "Usage: xcodeproj-sort [path/to/Project.xcodeproj]"
end.parse!

print ARGV
filename = ARGV.pop
print filename
if filename
  XcodeprojSort.sort(filename.gsub '.pbxproj', '')
else
  puts "An xcodeproj filename is required."
end